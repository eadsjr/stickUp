jQuery(function(s){s(document).ready(function(){var t=[],e=[],n=0,o="",r="",a="",l=null,i=0,c=0,u=0,p=0
s(window).scroll(function(t){var e=s(this).scrollTop()
o=e>n?"down":"up",n=e}),s.fn.stickUp=function(t){s(this).addClass("stuckMenu")
var n=0
if(null!=t){for(var o in t.parts)t.parts.hasOwnProperty(o)&&(e[n]=t.parts[n],n++)
0==n&&console.log("error:needs arguments"),r=t.itemClass,a=t.itemHover,null!=t.topMargin?"auto"==t.topMargin?p=parseInt(s(".stuckMenu").css("margin-top")):isNaN(t.topMargin)&&t.topMargin.search("px")>0?p=parseInt(t.topMargin.replace("px","")):isNaN(parseInt(t.topMargin))?(console.log("incorrect argument, ignored."),p=0):p=parseInt(t.topMargin):p=0,l=s("."+r).size()}i=parseInt(s(this).height()),c=parseInt(s(this).css("margin-bottom")),u=parseInt(s(this).next().closest("div").css("margin-top")),vartop=parseInt(s(this).offset().top)},s(document).on("scroll",function(){function n(n){contentView=.4*s("#"+e[n]).height(),testView=t[n]-contentView,varscroll>testView?(s("."+r).removeClass(a),history.pushState(null,null,"#"+s(".menuItem:eq("+n+") a")[0].href.split("#")[1]),s("."+r+":eq("+n+")").addClass(a)):varscroll<50&&(s("."+r).removeClass(a),history.pushState(null,null,"#"+s(".menuItem:eq(0) a")[0].href.split("#")[1]),s("."+r+":eq(0)").addClass(a))}if(varscroll=parseInt(s(document).scrollTop()),null!=l)for(var v=0;l>v;v++)t[v]=s("#"+e[v]).offset().top,"down"==o&&varscroll>t[v]-50&&varscroll<t[v]+50&&(s("."+r).removeClass(a),history.pushState(null,null,"#"+s(".menuItem:eq("+v+") a")[0].href.split("#")[1]),s("."+r+":eq("+v+")").addClass(a)),"up"==o&&n(v)
vartop<varscroll+p&&(s(".stuckMenu").addClass("isStuck"),s(".stuckMenu").next().closest("div").css({"margin-top":i+c+u+"px"},10),s(".stuckMenu").css("position","fixed"),s(".isStuck").css({top:"0px"},10,function(){})),varscroll+p<vartop&&(s(".stuckMenu").removeClass("isStuck"),s(".stuckMenu").next().closest("div").css({"margin-top":u+"px"},10),s(".stuckMenu").css("position","relative"))})})})
